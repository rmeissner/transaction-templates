(this["webpackJsonptransaction-templates"]=this["webpackJsonptransaction-templates"]||[]).push([[0],{152:function(e,t,n){},154:function(e,t){},199:function(e,t){},217:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),o=(n(152),n(4)),s=n.n(o),u=n(68),l=n(69),d=n(141),p=n(259),b=n(260),f=n(252),j=n(139),h=n(257),v=n(136),O=n.n(v),x=n(256),m=n(258),g=n(44),w=n(251),k=function(e,t,n){if(e){if("time_now"===e)return(new Date).getMilliseconds()/1e3;var r=t[e];if(!r)throw Error("Invalid id "+e);switch(r.details.type){case"bn":return Object(g.e)(n[e],r.details.decimals);case"json":try{return JSON.parse(n[e])}catch(a){return n[e]}case"fixed":return r.details.value}}},y=function e(t,n,r){return"string"===typeof t?k(t,n,r):t.map((function(t){return e(t,n,r)}))},S=function(e,t,n){if(e)return"string"===typeof e?k(e,t,n):new w.b(["function "+e.signature]).encodeFunctionData(e.signature,y(e.inputs,t,n))},C=function(e,t){return e.txs.map((function(n){return{description:n.description,to:k(n.to,e.inputs,t),value:k(n.value,e.inputs,t),data:S(n.data,e.inputs,t)}}))},F=n(138),T=n(78),E=n.n(T),B=function(e){var t,n;if(!e.to)throw Error("To is required for Safe transactions");return{to:e.to.toString(),value:null===(t=e.value)||void 0===t?void 0:t.toString(),data:null===(n=e.data)||void 0===n?void 0:n.toString()}},D=n(20),I=Object(f.a)((function(e){return{content:{padding:"16px"},input:{width:"100%"}}})),J=function(){var e=I(),t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)({}),f=Object(l.a)(o,2),v=f[0],g=f[1],w=Object(T.useSafeAppsSDK)(),k=w.sdk,y=w.connected,S=Object(r.useState)(void 0),E=Object(l.a)(S,2),J=E[0],N=E[1],A=a.a.useCallback(function(){var e=Object(u.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.target.files[0],(r=new FileReader).onload=function(e){var t;if(null===(t=e.target)||void 0===t?void 0:t.result){var n=JSON.parse(e.target.result.toString());N(n)}},r.readAsBinaryString(n)}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[N]),M=Object(r.useCallback)(Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=2;break}return e.abrupt("return");case 2:try{t=C(J,v),i(t)}catch(n){console.error(n)}case 3:case"end":return e.stop()}}),e)}))),[v,J,i]),P=Object(r.useCallback)(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!y){e.next=4;break}return k.txs.send({txs:[B(t)]}),e.abrupt("return");case 4:return e.next=6,window.ethereum.enable();case 6:new F.a.providers.Web3Provider(window.ethereum).getSigner().sendTransaction({to:t.to,value:t.value,data:t.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[y,k]),L=Object(r.useCallback)(function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{k.txs.send({txs:t.map(B)})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[k]),q=Object(x.a)("(prefers-color-scheme: dark)"),K=a.a.useMemo((function(){return Object(j.a)({palette:{type:q?"dark":"light",primary:O.a}})}),[q]);return Object(D.jsxs)(h.a,{theme:K,children:[Object(D.jsx)(m.a,{}),Object(D.jsxs)("div",{className:e.content,children:[Object(D.jsxs)("h1",{children:["Transaction template: ",(null===J||void 0===J?void 0:J.name)||"Upload Template"]}),Object(D.jsx)("input",{type:"file",accept:".json",onChange:A}),Object(D.jsx)("br",{}),J&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h3",{children:"Inputs"}),Object.entries(J.inputs).map((function(t){var n=Object(l.a)(t,2),r=n[0],a=n[1];switch(console.log(a),a.details.type){case"bn":case"json":return Object(D.jsx)(p.a,{placeholder:a.details.hint,label:a.label,value:v[r],onChange:function(e){g(function(e,t,n){var r=Object(d.a)({},e);return r[t]=n,r}(v,r,e.target.value))},className:e.input})}})),Object(D.jsx)(b.a,{color:"primary",onClick:M,children:"Build"}),Object(D.jsxs)("h3",{children:["Transactions ",y&&Object(D.jsx)(b.a,{color:"primary",onClick:function(){return L(c)},children:"Execute All"})]}),c.map((function(e,t){return Object(D.jsxs)(D.Fragment,{children:[e.description||"Transaction #".concat(t+1),Object(D.jsx)(b.a,{color:"primary",onClick:function(){return P(e)},children:"Execute"}),Object(D.jsx)("br",{})]})}))]})]})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,261)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(E.a,{children:Object(D.jsx)(J,{})})}),document.getElementById("root")),N()}},[[217,1,2]]]);
//# sourceMappingURL=main.bf581316.chunk.js.map