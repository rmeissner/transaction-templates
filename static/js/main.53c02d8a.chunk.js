(this["webpackJsonptransaction-templates"]=this["webpackJsonptransaction-templates"]||[]).push([[0],{152:function(t,e,n){},154:function(t,e){},199:function(t,e){},217:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),s=(n(152),n(4)),o=n.n(s),u=n(68),l=n(69),d=n(141),p=n(259),b=n(260),f=n(252),j=n(139),h=n(257),v=n(136),O=n.n(v),x=n(256),m=n(258),g=n(44),w=n(251),k=function(t,e,n){if(t){if("time_now"===t)return(new Date).getMilliseconds()/1e3;var r=e[t];if(!r)throw Error("Invalid id "+t);switch(r.details.type){case"bn":return Object(g.e)(n[t],r.details.decimals);case"json":try{return JSON.parse(n[t])}catch(a){return n[t]}case"fixed":return r.details.value}}},y=function t(e,n,r){return"string"===typeof e?k(e,n,r):e.map((function(e){return t(e,n,r)}))},S=function(t,e,n){if(t)return"string"===typeof t?k(t,e,n):new w.b(["function "+t.signature]).encodeFunctionData(t.signature,y(t.inputs,e,n))},C=function(t,e){return t.txs.map((function(n){return{description:n.description,to:k(n.to,t.inputs,e),value:k(n.value,t.inputs,e),data:S(n.data,t.inputs,e)}}))},F=n(138),T=n(78),E=n.n(T),B=function(t){var e,n;if(!t.to)throw Error("To is required for Safe transactions");return{to:t.to.toString(),value:(null===(e=t.value)||void 0===e?void 0:e.toString())||"0",data:(null===(n=t.data)||void 0===n?void 0:n.toString())||"0x"}},D=n(20),I=Object(f.a)((function(t){return{content:{padding:"16px"},input:{width:"100%"}}})),J=function(){var t=I(),e=Object(r.useState)([]),n=Object(l.a)(e,2),c=n[0],i=n[1],s=Object(r.useState)({}),f=Object(l.a)(s,2),v=f[0],g=f[1],w=Object(T.useSafeAppsSDK)(),k=w.sdk,y=w.connected,S=Object(r.useState)(void 0),E=Object(l.a)(S,2),J=E[0],N=E[1],A=a.a.useCallback(function(){var t=Object(u.a)(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=e.target.files[0],(r=new FileReader).onload=function(t){var e;if(null===(e=t.target)||void 0===e?void 0:e.result){var n=JSON.parse(t.target.result.toString());N(n),g({}),i([])}},r.readAsBinaryString(n)}catch(e){console.error(e)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[N,i,g]),M=Object(r.useCallback)(Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(J){t.next=2;break}return t.abrupt("return");case 2:try{e=C(J,v),i(e)}catch(n){console.error(n)}case 3:case"end":return t.stop()}}),t)}))),[v,J,i]),P=Object(r.useCallback)(function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!y){t.next=4;break}return k.txs.send({txs:[B(e)]}),t.abrupt("return");case 4:return t.next=6,window.ethereum.enable();case 6:new F.a.providers.Web3Provider(window.ethereum).getSigner().sendTransaction({to:e.to,value:e.value,data:e.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),[y,k]),L=Object(r.useCallback)(function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{k.txs.send({txs:e.map(B)})}catch(n){console.error(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[k]),q=Object(x.a)("(prefers-color-scheme: dark)"),K=a.a.useMemo((function(){return Object(j.a)({palette:{type:q?"dark":"light",primary:O.a}})}),[q]);return Object(D.jsxs)(h.a,{theme:K,children:[Object(D.jsx)(m.a,{}),Object(D.jsxs)("div",{className:t.content,children:[Object(D.jsxs)("h1",{children:["Transaction template: ",(null===J||void 0===J?void 0:J.name)||"Upload Template"]}),Object(D.jsx)("input",{type:"file",accept:".json",onChange:A}),Object(D.jsx)("br",{}),J&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("h3",{children:"Inputs"}),Object.entries(J.inputs).map((function(e){var n=Object(l.a)(e,2),r=n[0],a=n[1];switch(a.details.type){case"bn":case"json":return Object(D.jsx)(p.a,{placeholder:a.details.hint,label:a.label,value:v[r]||"",onChange:function(t){g(function(t,e,n){var r=Object(d.a)({},t);return r[e]=n,r}(v,r,t.target.value))},className:t.input})}})),Object(D.jsx)(b.a,{color:"primary",onClick:M,children:"Build"}),Object(D.jsxs)("h3",{children:["Transactions ",y&&c.length>1&&Object(D.jsx)(b.a,{color:"primary",onClick:function(){return L(c)},children:"Execute All"})]}),c.map((function(t,e){return Object(D.jsxs)(D.Fragment,{children:[t.description||"Transaction #".concat(e+1),Object(D.jsx)(b.a,{color:"primary",onClick:function(){return P(t)},children:"Execute"}),Object(D.jsx)("br",{})]})}))]})]})]})},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,261)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(E.a,{children:Object(D.jsx)(J,{})})}),document.getElementById("root")),N()}},[[217,1,2]]]);
//# sourceMappingURL=main.53c02d8a.chunk.js.map